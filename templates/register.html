{% extends 'base.html' %}
{% block title %}Register - Secure Diary{% endblock %}
{% block content %}

<div class="container d-flex justify-content-center align-items-center min-vh-100">
  <div class="card shadow-sm p-4 rounded-4" style="max-width: 420px; width: 100%;">
    <div class="text-center mb-4">
      <div class="mb-2">
        <img src="{{ url_for('static', filename='assets/lock.png') }}" alt="Secure Diary Logo" width="60" height="60">
      </div>
      <h3 class="fw-bold text-dark">Create Account üîê</h3>
      <p class="text-secondary">Daftar untuk mulai menulis di <strong>Secure Diary</strong>.</p>
    </div>

    <form method="POST" class="needs-validation" novalidate>
      <div class="mb-3">
        <label for="username" class="form-label fw-semibold">Username</label>
        <input type="text" class="form-control" id="username" name="username" placeholder="Buat username kamu" required>
        <div class="invalid-feedback">Username wajib diisi.</div>
      </div>

      <div class="mb-3">
        <label for="password" class="form-label fw-semibold">Password</label>
        <input type="password" class="form-control" id="password" name="password" placeholder="Masukkan password" required>
        <div class="invalid-feedback">Password wajib diisi.</div>
      </div>

      <div class="mb-3">
        <label for="confirm" class="form-label fw-semibold">Konfirmasi Password</label>
        <input type="password" class="form-control" id="confirm" name="confirm" placeholder="Ulangi password" required>
        <div class="invalid-feedback">Konfirmasi password wajib diisi.</div>
      </div>

      <button type="submit" class="btn btn-dark w-100 py-2 fw-semibold shadow-sm">Register</button>
    </form>

    <div class="text-center mt-4">
      <p class="small text-muted mb-0">
        Sudah punya akun?
        <a href="{{ url_for('login') }}" class="fw-semibold text-dark text-decoration-none">Login di sini</a>
      </p>
    </div>
  </div>
</div>

<style>
  body {
    background-color: #f8f9fa;
  }

  .card {
    border: none;
    transition: transform 0.3s ease, box-shadow 0.3s ease;
  }

  .card:hover {
    transform: translateY(-3px);
    box-shadow: 0 8px 20px rgba(0, 0, 0, 0.08);
  }

  .btn-dark {
    border-radius: 0.5rem;
  }

  input.form-control {
    border-radius: 0.5rem;
    padding: 0.6rem 0.75rem;
  }

  input.form-control:focus {
    box-shadow: 0 0 0 0.2rem rgba(33, 37, 41, 0.15);
  }

  a.text-dark:hover {
    text-decoration: underline !important;
  }
</style>

<script>
  // Bootstrap form validation
  (() => {
    'use strict';
    const forms = document.querySelectorAll('.needs-validation');
    Array.from(forms).forEach(form => {
      form.addEventListener('submit', event => {
        if (!form.checkValidity()) {
          event.preventDefault();
          event.stopPropagation();
        }
        form.classList.add('was-validated');
      }, false);
    });
  })();
</script>

{% endblock %}
